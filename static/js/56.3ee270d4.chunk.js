(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[56],{453:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(357),i=s(367),o=s(126),c=s(19);class n extends a.Component{constructor(e){super(e),this.configConst=i.a,this.changeHandler=e=>{const{name:t,value:s}=e.target;this.setState({[t]:s})},this.onClickBack=()=>{window.history.back()},this.uploadImage=(e,t,s,a)=>{if(e&&e.target&&e.target.files&&0!==e.target.files.length){const r=[...this.state[t]],i=[...this.state[s]],c=[...e.target.files];if(c.length>a)return void o.b.error("Max "+a+" files are allowed to upload!");if(c.forEach((e=>{if(this.configConst.fileTypeSupport.includes(e.type)){if(e.size/1024/1024>this.configConst.maxFileSize){const t=r.findIndex((t=>t.name.toLowerCase()===e.name.toLowerCase()));r.splice(t,1),o.b.error("File may not be greater than 1 MB")}else r.push(e),i.push(URL.createObjectURL(e))}else{const t=r.findIndex((t=>t.name.toLowerCase()===e.name.toLowerCase()));r.splice(t,1),o.b.error("Please upload only this file type: jpeg, jpg, png format")}})),0===r.length&&0!==this.state.storeImage.length)return;this.setState({[t]:r,[s]:i})}},this.handleSubmit=e=>{!1===e.currentTarget.checkValidity()&&(e.preventDefault(),e.stopPropagation()),this.state.storeImage&&0!==this.state.storeImage.length||o.b.error("Please upload one store image"),this.setState({validated:!0})},this.state={storeName:"",storeContactPersonName:"",storeAddress:"",storeContactNumber:"",storeGSTNo:"",storeImage:[],previewStoreImage:[],storeGSTImage:[],previewStoreGSTImage:[],storeCertificate:[],previewStoreCertificate:[],storeTimingOpen:"",storeTimingClose:"",storeStatus:!1,validated:!1}}onRemoveImage(e,t,s){const a=[...this.state[t]],r=[...this.state[s]];a.splice(e,1),r.splice(e,1),this.setState({[t]:a,[s]:r})}render(){return Object(c.jsx)("section",{className:"store-management-add-update-section",children:Object(c.jsx)(r.tb,{children:Object(c.jsx)(r.C,{xs:12,children:Object(c.jsxs)(r.p,{className:"mb-4",children:[Object(c.jsxs)(r.t,{children:[Object(c.jsx)("strong",{children:"Store Management"}),Object(c.jsx)("div",{className:"float-end",children:Object(c.jsx)("button",{className:"btn btn-info btn-sm text-white",onClick:this.onClickBack,children:"Back"})})]}),Object(c.jsx)(r.q,{children:Object(c.jsxs)(r.L,{name:"storeManagement",noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit,children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-12 form-group",children:[Object(c.jsx)("div",{className:"float-end mr-2",children:Object(c.jsx)(r.M,{id:"storeStatus",label:"Active",value:this.state.storeStatus,onChange:this.changeHandler})}),Object(c.jsxs)(r.Q,{className:"float-end ml-2",htmlFor:"storeStatus",children:["Store Status ",Object(c.jsx)("span",{className:"required-mark"})]})]}),Object(c.jsxs)("div",{className:"col-md-6 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeName",children:["Store Name ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)(r.P,{type:"text",name:"storeName",id:"storeName",required:!0,placeholder:"Store Name",value:this.state.storeName,onChange:this.changeHandler}),Object(c.jsx)(r.N,{invalid:!0,children:"Please enter store name."})]}),Object(c.jsxs)("div",{className:"col-md-6 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeContactPersonName",children:["Store Contact Person Name ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)(r.P,{type:"text",name:"storeContactPersonName",id:"storeContactPersonName",required:!0,placeholder:"Store Contact Person Name",value:this.state.storeContactPersonName,onChange:this.changeHandler}),Object(c.jsx)(r.N,{invalid:!0,children:"Please enter store contact person name."})]}),Object(c.jsxs)("div",{className:"col-md-6 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeAddress",children:["Store Address ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)(r.U,{name:"storeAddress",id:"storeAddress",required:!0,rows:"5",placeholder:"Store Address",value:this.state.storeAddress,onChange:this.changeHandler}),Object(c.jsx)(r.N,{invalid:!0,children:"Please enter store address."})]}),Object(c.jsx)("div",{className:"col-md-6 form-group",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-12 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeContactNumber",children:["Store Contact No. ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)(r.P,{type:"text",name:"storeContactNumber",id:"storeContactNumber",required:!0,placeholder:"Store Contact Number",value:this.state.storeContactNumber,onChange:this.changeHandler}),Object(c.jsx)(r.N,{invalid:!0,children:"Please enter store contact no."})]}),Object(c.jsxs)("div",{className:"col-md-12 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeGSTNo",children:["Store GST No. ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)(r.P,{type:"text",name:"storeGSTNo",id:"storeGSTNo",required:!0,placeholder:"Store GST No.",value:this.state.storeGSTNo,onChange:this.changeHandler}),Object(c.jsx)(r.N,{invalid:!0,children:"Please enter store GST no."})]})]})}),Object(c.jsxs)("div",{className:"col-md-6 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeTiming",children:["Store Timings ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsxs)("div",{className:"mr-2 mt-3",children:[Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-md-6 form-group",children:Object(c.jsxs)(r.Q,{htmlFor:"storeTimingOpen",children:["Open Time ",Object(c.jsx)("span",{className:"required-mark"})]})}),Object(c.jsx)("div",{className:"col-md-6 form-group",children:Object(c.jsx)(r.P,{type:"time",name:"storeTimingOpen",id:"storeTimingOpen",required:!0,value:this.state.storeTimingOpen,onChange:this.changeHandler})})]}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-md-6 form-group",children:Object(c.jsxs)(r.Q,{htmlFor:"storeTimingClose",children:["Close Time ",Object(c.jsx)("span",{className:"required-mark"})]})}),Object(c.jsx)("div",{className:"col-md-6 form-group",children:Object(c.jsx)(r.P,{type:"time",name:"storeTimingClose",id:"storeTimingClose",required:!0,value:this.state.storeTimingClose,onChange:this.changeHandler})})]})]})]}),Object(c.jsxs)("div",{className:"col-md-6 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeImage",children:["Store Image ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)("i",{className:"fa fa-upload fa-2x mr-2 image-container-icon",children:Object(c.jsx)(r.P,{type:"file",name:"storeImage",id:"storeImage",required:!0,multiple:!0,placeholder:"Choose Store Image",onChange:e=>this.uploadImage(e,"storeImage","previewStoreImage",5)})}),Object(c.jsx)(r.N,{invalid:!0,children:"Please upload at least one store image."}),Object(c.jsx)("div",{className:"image-container-overflow",id:"imageContainer",children:this.state.storeImage&&0!==this.state.storeImage.length?Object(c.jsx)(c.Fragment,{children:this.state.previewStoreImage.map(((e,t)=>Object(c.jsxs)("div",{className:"position-relative",children:[Object(c.jsx)("i",{className:"fa fa-times-circle-o",onClick:()=>this.onRemoveImage(t,"storeImage","previewStoreImage")}),Object(c.jsx)("img",{src:e,alt:"store_atl"})]},"storeImage_"+t)))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("img",{src:this.configConst.defaultImage,alt:"Choose Store Image"})})})]}),Object(c.jsxs)("div",{className:"col-md-6 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeGSTImage",children:["Store GST Image ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)("i",{className:"fa fa-upload fa-2x mr-2 image-container-icon",children:Object(c.jsx)(r.P,{type:"file",name:"storeGSTImage",id:"storeGSTImage",required:!0,multiple:!0,placeholder:"Choose Store GST Image",onChange:e=>this.uploadImage(e,"storeGSTImage","previewStoreGSTImage",2)})}),Object(c.jsx)(r.N,{invalid:!0,children:"Please upload at least one store GST image."}),Object(c.jsx)("div",{className:"image-container-overflow",id:"gstImageContainer",children:this.state.storeGSTImage&&0!==this.state.storeGSTImage.length?Object(c.jsx)(c.Fragment,{children:this.state.previewStoreGSTImage.map(((e,t)=>Object(c.jsxs)("div",{className:"position-relative",children:[Object(c.jsx)("i",{className:"fa fa-times-circle-o",onClick:()=>this.onRemoveImage(t,"storeGSTImage","previewStoreGSTImage")}),Object(c.jsx)("img",{src:e,alt:"store_atl"})]},"storeImage_"+t)))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("img",{src:this.configConst.defaultImage,alt:"Choose Store Image"})})})]}),Object(c.jsxs)("div",{className:"col-md-4 form-group",children:[Object(c.jsxs)(r.Q,{htmlFor:"storeCertificate",children:["Store Registration Certificate Image ",Object(c.jsx)("span",{className:"required-mark"})]}),Object(c.jsx)("i",{className:"fa fa-upload fa-2x mr-2 image-container-icon",children:Object(c.jsx)(r.P,{type:"file",name:"storeCertificate",id:"storeCertificate",required:!0,multiple:!0,placeholder:"Choose Store Registration Certificate",onChange:e=>this.uploadImage(e,"storeCertificate","previewStoreCertificate",2)})}),Object(c.jsx)(r.N,{invalid:!0,children:"Please upload at least one store registration certificate image."}),Object(c.jsx)("div",{className:"image-container-overflow justify-content-center",id:"storeCertificateContainer",children:this.state.storeCertificate&&0!==this.state.storeCertificate.length?Object(c.jsx)(c.Fragment,{children:this.state.previewStoreCertificate.map(((e,t)=>Object(c.jsxs)("div",{className:"position-relative",children:[Object(c.jsx)("i",{className:"fa fa-times-circle-o",onClick:()=>this.onRemoveImage(t,"storeCertificate","previewStoreCertificate")}),Object(c.jsx)("img",{src:e,alt:"store_atl"})]},"storeImage_"+t)))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("img",{src:this.configConst.defaultImage,alt:"Choose Store Image"})})})]})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-12 form-group justify-content-center d-flex",children:[Object(c.jsx)(r.l,{color:"primary",type:"submit",children:"Add"}),Object(c.jsx)(r.l,{color:"danger mr-2",className:"text-white",onClick:this.onClickBack,children:"Cancel"})]})})]})})]})})})})}}t.default=n}}]);
//# sourceMappingURL=56.3ee270d4.chunk.js.map